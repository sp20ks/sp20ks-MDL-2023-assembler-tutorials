# Лабораторная работа №4 *"Обработки массивов и матриц"*

## Теоретический материал
### 1. Почему в ассемблере не определены понятия «массив», «матрица»?
* Массив и Матрица во внутреннем представлении – это последовательность элементов в памяти, поэтому в ассемблере данные понятия не определены.

### 2. Как в ассемблере моделируются массивы?
* Перечислением 	элементов массива в поле операндов 	одной из директив описания данных. При перечислении элементы разделяются запятыми. Используя оператор повторения dup.
### 3. Поясните фрагмент последовательной адресации элементов массива? Почему при этом для хранения частей адреса используют регистры?

* Регистр используют в качестве смещения или индекса, чтобы позволить программе адресоваться к элементам массива последовательно.
  
### 4. Как в памяти компьютера размещаются элементы матриц?
* Элементы матрицы могут располагаться в памяти по строкам и по столбцам.
  
### 5. Чем моделирование матриц отличается от моделирования массивов? В каких случаях при выполнении операций для адресации матриц используется один регистр, а в каких – два?
* При моделировании матрицы следует различать расположение элементов по строкам и по столбцам.
Если матрица расположена в памяти по строкам и просмотр выполняется по строкам, то обработка может выполняться так, как в одномерном массиве, без учета перехода от одной строки к другой.
Для построчной обработки достаточно использование 1 регистра, для постолбцовой - 2.


## На что стоит обратить особое внимание при выполнении лабораторной работы
* В этой лабораторной работе появляется работа со стеком. Команда **push** заносит операнд в стек, **pop** - записывает в операнд данные с вершины стека.
* Организация циклов в nasm завязана на регистре **RCX**. При достижении команды:

        loop <метка>
    
  значение регистра уменьшается на 1. Если произошел какой-то условный переход в другое место и не была достигнута команда **loop**, стоит понимать, что в этом случае **RCX** не изменится.
* Для корректного сравнения чисел стоит не забывать про размер операндов. Например:
      
      mov rax, [Matrix + rbx*4]
    
    учитывая, что rax - 8 байт, а элемент матрицы - 4 байта, часть регистра будет заполнена мусором. Соотвественно это может вызвать ошибки в логике программы.

    Лучше сделать так:

    
      mov eax, DWORD[Matrix + rbx*4]

    Здесь используем только чатсь регистра rax и явно указываем размер элемента массива.